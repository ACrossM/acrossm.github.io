<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset='utf-8' />
<meta name='viewport' content='width=device-width, initial-scale=1.0' />
<title>貸出状況リスト</title>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>

<style>
  /* ... (CSSは変更なし) ... */
</style>
</head>
<body>
  <div id="debug-height" style="position: fixed; top: 0; left: 0; background: yellow; padding: 5px; z-index: 9999; font-size: 10px;"></div>

  <div class="custom-header">
    </div>

  <div id='calendar'></div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // ... (カレンダー設定は変更なし) ...

      // ★★★ 高さを自動調整するためのコード（デバッグ表示付き） ★★★
      const ro = new ResizeObserver(entries => {
        window.requestAnimationFrame(() => {
          const height = document.body.scrollHeight;
          // ★★★ デバッグ表示を更新 ★★★
          document.getElementById('debug-height').innerText = 'Sending height: ' + height + 'px';
          // 親ページ（STUDIO）に高さを通知
          window.parent.postMessage({ type: 'calendarHeight', height: height }, '*');
        });
      });
      ro.observe(document.body);
    });
  </script>
</body>
</html>
