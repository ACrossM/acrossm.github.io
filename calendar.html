<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset='utf-8' />
<meta name='viewport' content='width=device-width, initial-scale=1.0' />
<title>è²¸å‡ºçŠ¶æ³ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</title>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap');
  body { font-family: 'Noto Sans JP', sans-serif; background-color: #fff; margin: 0; padding: 1em; }
  .filter-group { margin-bottom: 1em; padding: 15px; background-color: #f9f9f9; border-radius: 8px; }
  .filter-group h3 { font-size: 1em; font-weight: 700; margin-top: 0; margin-bottom: 10px; color: #333; border-bottom: 2px solid #FFD700; padding-bottom: 5px; }
  .filter-items { display: flex; flex-wrap: wrap; gap: 10px; }
  .filter-items label { display: flex; align-items: center; cursor: pointer; padding: 5px 10px; border-radius: 6px; transition: background-color 0.2s ease; font-size: 0.9em; }
  .filter-items input { margin-right: 8px; accent-color: #FFD700; }
  .filter-items label:hover { background-color: #f0f0f0; }
  .toggle-buttons { margin-bottom: 15px; display: flex; gap: 10px; }
  .toggle-buttons button { background-color: #e0e0e0; border: none; padding: 5px 12px; border-radius: 6px; cursor: pointer; font-size: 0.8em; font-weight: 500; }
  .toggle-buttons button:hover { background-color: #d0d0d0; }
  .fc { border: none; }
  .fc-header-toolbar { margin-bottom: 1.5em !important; }
  .fc-toolbar-title { font-size: 1.5em; font-weight: 700; color: #333; }
  .fc-button { background-color: #f0f0f0; color: #333; border: none; border-radius: 8px; padding: 0.5em 1em; font-weight: 500; transition: background-color 0.2s ease; text-transform: capitalize; }
  .fc-button:hover { background-color: #e0e0e0; }
  .fc-button-primary:not(:disabled).fc-button-active, .fc-today-button { background-color: #FFD700 !important; color: #333 !important; font-weight: 700; }
  .fc-button-primary:not(:disabled).fc-button-active:hover, .fc-today-button:hover { background-color: #f0c400 !important; }
  .fc-col-header-cell { border: none; padding: 1em 0; font-weight: 500; color: #888; }
  .fc-daygrid-day { border: 1px solid #f0f0f0; }
  .fc-daygrid-day-number { padding: 0.5em; font-weight: 500; }
  .fc-day-today { background-color: #FFFBE6; }
  .fc-day-today .fc-daygrid-day-number { font-weight: 700; }
  .fc-event { background-color: #FFD700 !important; border-color: #FFD700 !important; color: #333 !important; border-radius: 4px; padding: 3px 6px; font-weight: 500; font-size: 0.85em; cursor: pointer; transition: background-color 0.2s ease; }
  .fc-event:hover { background-color: #f0c400 !important; }
  .fc-list-event-dot { border-color: #FFD700 !important; }
</style>
</head>
<body>

  <div class="toggle-buttons">
    <button id="check-all">ã™ã¹ã¦é¸æŠ</button>
    <button id="uncheck-all">ã™ã¹ã¦è§£é™¤</button>
  </div>

  <div id="filter-container">
    <div class="filter-group">
      <h3>ã‚¢ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³</h3>
      <div class="filter-items" id="attractions-filter">
        <label><input type="checkbox" name="product_group" value="inflatables" checked> ã‚¤ãƒ³ãƒ•ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆå…¨ç¨®é¡ï¼‰ğŸ¼</label>
        <label><input type="checkbox" name="product" value="é›»è»ŠDEã‚¹ãƒ­ãƒƒãƒˆ" checked> é›»è»ŠDEã‚¹ãƒ­ãƒƒãƒˆğŸ°</label>
        <label><input type="checkbox" name="product" value="ARé‡£ã‚Šã‚²ãƒ¼ãƒ " checked> ARé‡£ã‚Šã‚²ãƒ¼ãƒ ğŸ£</label>
        <label><input type="checkbox" name="product" value="ç¸æ—¥" checked> ç¸æ—¥ğŸ</label>
        <label><input type="checkbox" name="product" value="ç¸æ—¥ï¼ˆã‚„ãã‚‰ä»˜ï¼‰" checked> ç¸æ—¥ï¼ˆã‚„ãã‚‰ä»˜ï¼‰ğŸ</label>
        <label><input type="checkbox" name="product" value="ã†ã”ãï¼ã¬ã‚Šãˆ" checked> ã†ã”ãï¼ã¬ã‚ŠãˆğŸ¨</label>
        <label><input type="checkbox" name="product" value="ã‚«ãƒƒãƒ†ã‚£ãƒ³ã‚°ãƒ¬ãƒ¼ã‚µãƒ¼" checked> ã‚«ãƒƒãƒ†ã‚£ãƒ³ã‚°ãƒ¬ãƒ¼ã‚µãƒ¼ğŸ§</label>
        <label><input type="checkbox" name="product" value="ã‚­ãƒ‹ãƒŠãƒ«ã‚²ãƒ¼ãƒ ã‚¹" checked> ã‚­ãƒ‹ãƒŠãƒ«ã‚²ãƒ¼ãƒ ã‚¹ğŸ®</label>
        <label><input type="checkbox" name="product" value="æ®µãƒœãƒ¼ãƒ«è¿·è·¯" checked> æ®µãƒœãƒ¼ãƒ«è¿·è·¯ğŸª</label>
        <label><input type="checkbox" name="product" value="ãƒãƒ³ãƒ‰ã‚¹ãƒŠã‚¤ãƒ‘ãƒ¼" checked> ãƒãƒ³ãƒ‰ã‚¹ãƒŠã‚¤ãƒ‘ãƒ¼ğŸ¯</label>
            <label><input type="checkbox" name="product" value="ãƒ—ãƒ©ãƒ¬ãƒ¼ãƒ«" checked> ãƒ—ãƒ©ãƒ¬ãƒ¼ãƒ«ğŸšƒ</label>
        <label><input type="checkbox" name="product" value="ãƒãƒƒãƒ—ã‚³ãƒ¼ãƒ³" checked> ãƒãƒƒãƒ—ã‚³ãƒ¼ãƒ³ğŸ¿</label>
        <label><input type="checkbox" name="product" value="ãƒ¡ãƒƒã‚·ãƒ¥ãƒ“ã‚¸ãƒ§ãƒ³" checked> ãƒ¡ãƒƒã‚·ãƒ¥ãƒ“ã‚¸ãƒ§ãƒ³ğŸ“ºï¸</label>
        <label><input type="checkbox" name="product" value="ã‚ãŸãŒã—" checked> ã‚ãŸãŒã—ğŸ¬</label>
      </div>
    </div>

    

  <div id='calendar'></div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const calendarEl = document.getElementById('calendar');
      // â˜…â˜…â˜… é ‚ã„ãŸURLã‚’åæ˜ ã—ã¾ã—ãŸ â˜…â˜…â˜…
      const gasWebAppUrl = 'https://script.google.com/macros/s/AKfycbxQiYXeDhA2lJhU_7sVY-SktsGF_-MIFzO_-SkLf8iI8UdPVgUKab25gb9Og3jucv0o4A/exec';

      const inflatableItems = [
        'ãƒ‘ãƒ³ãƒ€', 'ã‚´ãƒªãƒ©', 'æç«œ', 'ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³', 'ã‚µãƒ³ã‚¿ã‚¯ãƒ­ãƒ¼ã‚¹', 'é€†ç«‹ã¡ãƒ”ã‚¨ãƒ­', 'ãƒãƒ­ã‚¦ã‚£ãƒ³ã‹ã¼ã¡ã‚ƒ'
      ];

      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        locale: 'ja',
        headerToolbar: {
          left: 'prev,next today',
          center: 'title',
          right: 'dayGridMonth,listWeek'
        },
        buttonText: { today: 'ä»Šæ—¥', month: 'æœˆ', list:  'ãƒªã‚¹ãƒˆ' },

        events: function(fetchInfo, successCallback, failureCallback) {
          fetch(gasWebAppUrl)
            .then(response => response.json())
            .then(allEvents => {
              let productsToShow = [];
              document.querySelectorAll('#attractions-filter input:checked').forEach(input => {
                productsToShow.push(input.value);
              });
              if (document.querySelector('#inflatables-filter input:checked')) {
                productsToShow.push(...inflatableItems);
              }
              const filteredEvents = allEvents.filter(event => productsToShow.includes(event.title));
              successCallback(filteredEvents);
            })
            .catch(error => failureCallback(error));
        }
      });

      calendar.render();

      const allCheckboxes = document.querySelectorAll('#filter-container input[type="checkbox"]');
      allCheckboxes.forEach(input => {
        input.addEventListener('change', () => {
          calendar.refetchEvents();
        });
      });

      document.getElementById('check-all').addEventListener('click', () => {
        allCheckboxes.forEach(checkbox => checkbox.checked = true);
        calendar.refetchEvents();
      });

      document.getElementById('uncheck-all').addEventListener('click', () => {
        allCheckboxes.forEach(checkbox => checkbox.checked = false);
        calendar.refetchEvents();
      });
    });
  </script>
</body>
</html>
